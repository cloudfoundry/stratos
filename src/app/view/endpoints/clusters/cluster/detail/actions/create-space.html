<form name="createSpaceForm">
  <div style="margin-bottom: 30px" class="form-group" focusable-input
       ng-class="{'has-error': createSpaceForm.name.$invalid && createSpaceForm.name.$dirty}">
    <label class="control-label" translate>Organization</label>
    <select-input
      arrow-icon="helion-icon helion-icon-Up_tab helion-icon-r180"
      ng-model="asyncTaskDialogCtrl.context.data.organization"
      input-options="asyncTaskDialogCtrl.context.data.organizations"
      ng-change="asyncTaskDialogCtrl.context.data.setOrganization()">
    </select-input>
  </div>

  <div ng-repeat="space in asyncTaskDialogCtrl.context.data.spaces track by $index" class="form-group" focusable-input
       ng-class="{'has-error': createSpaceForm['name' + $index].$invalid && createSpaceForm['name' + $index].$dirty}">
    <label class="control-label" translate>Space Name{{ $index > 0 ? ' ' + ($index + 1) : ''}}</label>
    <input type="text" name="name{{ $index }}" auto-focus class="form-control"
           ng-model="asyncTaskDialogCtrl.context.data.spaces[$index]"
           helion-unique items="asyncTaskDialogCtrl.context.data.existingSpaceNames"
           unique-space-name
           required/>
  </div>

  <div style="float: left">
  <a class="btn btn-link"
     style="padding-left: 0; font-size: 16px; text-transform: none"
     ng-disabled="asyncTaskDialogCtrl.context.data.createSpaceDisabled()"
     ng-click="asyncTaskDialogCtrl.context.data.addSpace()">
    <i class="helion-icon helion-icon-Add"></i>
    <span  translate>Create Another Space</span>
  </a>
  <a class="btn btn-link"
     ng-if="asyncTaskDialogCtrl.context.data.spaces.length > 1"
     style="padding-left: 0; font-size: 16px; text-transform: none"
     ng-click="asyncTaskDialogCtrl.context.data.removeSpace()">
    <i class="helion-icon helion-icon-Minus"></i>
    <span  translate>Remove Space</span>
  </a>
  </div>

</form>
