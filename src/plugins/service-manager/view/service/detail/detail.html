<div class="cluster hsm">
  <span class="cluster-breadcrumb" ncy-breadcrumb></span>
  <div class="cluster-detail endpoints">
    <div class="hsm-service-header">
      <h3 translate>Service Manager : {{ smCtrl.endpoint.name }}</h3>
      <div ng-if="smCtrl.hsmModel.canWrite()" class="create-instance-btn">
        <button class="btn btn-primary" translate
          ng-click="smCtrl.createInstance()">
          Create Instance
          </button>
      </div>
    </div>
    <div class="cluster-summary-tile">
      <div class="card panel panel-default">
        <div class="panel-heading action-header">
          <span translate>Summary</span>
        </div>

        <div class="panel-body cluster-summary-panel row">
          <div class="col-md-5">
            <dl class="dl-horizontal">
              <dt translate>Instances</dt>
              <dd>
                {{ smCtrl.model.instances.length }}
              </dd>
              <dt translate>Services</dt>
              <dd>
                {{ smCtrl.model.services.length }}
              </dd>
            <dt ng-if="svcsCtrl.orgCount >= 0" translate>Organizations</dt>
            <dd ng-if="svcsCtrl.orgCount >= 0">
              {{ svcsCtrl.orgCount }}
            </dd>
            <dt ng-if="svcsCtrl.userCount >= 0" translate>Users</dt>
            <dd ng-if="svcsCtrl.userCount >= 0">
              {{ svcsCtrl.userCount }}
            </dd>
            </dl>
          </div>
          <div class="col-md-7">
            <dl class="dl-horizontal">
              <dt ng-if="svcsCtrl.initialized" translate>INSTANCE ADDRESS</dt>
              <dd ng-if="svcsCtrl.initialized">
                {{ smCtrl.getEndpoint() }}
              </dd>
              <!--
              <dt translate>HSM Interactions</dt>
              <dd>
                <a ng-click="svcsCtrl.showCliCommands()" class="btn btn-link" translate>CLI Commands</a>
              </dd>
              -->
              <dt ng-if="svcsCtrl.initialized" translate>Account Username</dt>
              <dd ng-if="svcsCtrl.initialized">
                {{ svcsCtrl.userName }}
              </dd>
              <dt ng-if="svcsCtrl.initialized" translate>Account Status</dt>
              <dd ng-if="svcsCtrl.initialized" translate>
                {{ svcsCtrl.isAdmin ? 'administrator' : 'user' }}
              </dd>
            </dl>
          </div>
        </div>
        <div class="panel-body cluster-summary-panel row hsm-upgrade" ng-if="smCtrl.endpointHasUpgrades()">
          <div>
          <div class="upgrade-message">
            <i class="helion-icon helion-icon-Upgrade"></i>
            <span translate>Upgrade(s) are available for one or more instances</span>
          </div>
          <div class="upgrade-acknowledge">
            <i ng-click="smCtrl.acknowledgeUpgrade()" class="helion-icon helion-icon-Close"></i>
          </div>
        </div>
      </div>
    </div>

    <ul class="application-nav nav nav-tabs col-sm-12">
      <li class="nav-item" ui-sref-active="active">
        <a class="nav-link" ui-sref="sm.endpoint.detail.instances" translate>
          Instances
        </a>
      </li>
      <li class="nav-item" ui-sref-active="active">
        <a class="nav-link" ui-sref="sm.endpoint.detail.services" translate>
          Services
        </a>
      </li>
    </ul>
    <ui-view></ui-view>
  </div>
</div>
