<div class="action-bar app-actions-bar panel-less">
  <div class="applications-header font-semi-bold pull-left" translate>
    Applications
    <bounce-spinner classes="bounce-spinner-sm" ng-if="applicationsListCtrl.loading"></bounce-spinner>
  </div>
  <div class="pull-right">
    <button class="btn btn-primary"
      ng-if="applicationsListCtrl.showAddApplicationButton()"
      translate
      ng-click="applicationsListCtrl.eventService.$emit('cf.events.START_ADD_APP_WORKFLOW')">
      add application
    </button>
  </div>
</div>

<div ng-if="applicationsListCtrl.ready">
  <div class="applications-filter" ng-if="applicationsListCtrl.model.clusterCount > 0">
    <div class="panel panel-default">
      <div class="panel-body">
        <form class="form-horizontal">
          <div class="form-group">
            <label class="control-label" translate>Endpoint</label>
            <search-box
              ng-model="applicationsListCtrl.filter.cnsiGuid"
              input-options="applicationsListCtrl.clusters"
              tabindex="0"
              ng-change="applicationsListCtrl.setCluster()">
            </search-box>
          </div>
          <div class="form-group" ng-if="applicationsListCtrl.filter.cnsiGuid !== 'all'">
            <label class="control-label" translate>Organization</label>
            <search-box
              ng-model="applicationsListCtrl.filter.orgGuid"
              input-options="applicationsListCtrl.organizations"
              tabindex="0"
              ng-change="applicationsListCtrl.setOrganization()">
            </search-box>
          </div>
          <div class="form-group" ng-if="applicationsListCtrl.filter.orgGuid !== 'all'">
            <label class="control-label" translate>Space</label>
            <search-box
              ng-model="applicationsListCtrl.filter.spaceGuid"
              input-options="applicationsListCtrl.spaces"
              tabindex="0"
              ng-change="applicationsListCtrl.setSpace()">
            </search-box>
          </div>
          <div class="reset-link">
            <a class="btn-link"
              ng-click="applicationsListCtrl.resetFilter()"
              ng-if="applicationsListCtrl.filter.cnsiGuid !== 'all'"
              translate>Reset</a>
          </div>
        </form>
      </div>
    </div>
  </div>

  <div class="applications-empty" ng-if="!applicationsListCtrl.model.hasApps">
    <div ng-if="applicationsListCtrl.model.clusterCount === 0">
      <div class="helion-icon helion-icon-3x helion-icon-Cluster"></div>
      <div class="applications-msg" translate>You cannot view any applications.</div>
      <div class="applications-cta" ><a class="btn-link" href="#/endpoint" translate>
        Use the Endpoints Dashboard</a> <span translate>to fix your connections or connect to new endpoints.</span>
      </div>
    </div>
    <div ng-if="applicationsListCtrl.model.clusterCount > 0">
      <div class="helion-icon helion-icon-3x helion-icon-Application"></div>
      <div class="applications-msg" ng-bind="applicationsListCtrl.getNoAppsMessage()"></div>
      <div class="applications-cta">
        <a class="btn btn-link" ng-click="applicationsListCtrl.eventService.$emit('cf.events.START_ADD_APP_WORKFLOW')" ng-hide="!applicationsListCtrl.isSpaceDeveloper" translate><span>Add an application.</span></a>
      </div>
    </div>
  </div>

  <div ng-if="applicationsListCtrl.model.hasApps" ui-view></div>

  <paginator
    properties="applicationsListCtrl.paginationProperties">
  </paginator>
</div>
