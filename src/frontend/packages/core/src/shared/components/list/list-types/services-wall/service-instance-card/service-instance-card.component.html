<app-meta-card *ngIf="serviceInstanceEntity" class="app-service-card" [actionMenu]="cardMenu" [entityConfig]="entityConfig">
  <app-meta-card-title>
    <app-multiline-title class="service-instance-card__title">{{ serviceInstanceEntity.entity.name }}</app-multiline-title>
  </app-meta-card-title>
  <app-meta-card-item>
    <app-meta-card-key>Space</app-meta-card-key>
    <app-meta-card-value>
      <a [routerLink]="getSpaceURL()" [queryParams]="getSpaceBreadcrumbs()">{{ getSpaceName() }}</a>
    </app-meta-card-value>
  </app-meta-card-item>
  <app-meta-card-item>
    <app-meta-card-key>Service</app-meta-card-key>
    <app-meta-card-value>{{ getServiceName() }} </app-meta-card-value>
  </app-meta-card-item>
  <app-meta-card-item>
    <app-meta-card-key>Service Plan</app-meta-card-key>
    <app-meta-card-value>{{ serviceInstanceEntity.entity.service_plan?.entity.name}} </app-meta-card-value>
  </app-meta-card-item>
  <app-meta-card-item>
    <app-meta-card-key>Applications Attached</app-meta-card-key>
    <app-meta-card-value>{{ serviceInstanceEntity.entity.service_bindings.length }} </app-meta-card-value>
  </app-meta-card-item>
  <app-meta-card-item>
    <app-meta-card-key>Last Updated</app-meta-card-key>
    <app-meta-card-value>{{ serviceInstanceEntity.entity.last_operation?.updated_at | date:'medium' }} </app-meta-card-value>
  </app-meta-card-item>
  <app-meta-card-item>
    <app-meta-card-key>Dashboard</app-meta-card-key>
    <app-meta-card-value>
      <div *ngIf="!!serviceInstanceEntity.entity.dashboard_url ; then dashboardUrl; else none"></div>
      <ng-template #dashboardUrl>
        <div class="service-instance-card__link">
          <a class="service-instance-card__icon-link" [href]="serviceInstanceEntity.entity.dashboard_url" target="_blank" appClickStopPropagation>
            <mat-icon>launch</mat-icon>
          </a>
          <a [href]="serviceInstanceEntity.entity.dashboard_url" target="_blank" appClickStopPropagation>View</a>
        </div>
      </ng-template>
      <ng-template #none>None</ng-template>
    </app-meta-card-value>
  </app-meta-card-item>
  <app-meta-card-item>
    <app-meta-card-key>Tags</app-meta-card-key>
    <app-meta-card-value>
      <app-chips [chips]="serviceInstanceTags"></app-chips>
    </app-meta-card-value>
  </app-meta-card-item>

</app-meta-card>
