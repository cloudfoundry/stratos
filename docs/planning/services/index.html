<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.58">
<title data-react-helmet="true">services | STRATOS</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="services | STRATOS"><meta data-react-helmet="true" name="description" content="Services"><meta data-react-helmet="true" property="og:description" content="Services"><meta data-react-helmet="true" property="og:url" content="https://stratos.app/docs/planning/services"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://stratos.app/docs/planning/services"><link rel="stylesheet" href="/styles.d4a034a3.css">
<link rel="preload" href="/styles.d3be2d04.js" as="script">
<link rel="preload" href="/runtime~main.4575875f.js" as="script">
<link rel="preload" href="/main.777ea05f.js" as="script">
<link rel="preload" href="/1.222372fe.js" as="script">
<link rel="preload" href="/2.34eb096d.js" as="script">
<link rel="preload" href="/44.c6ce18b1.js" as="script">
<link rel="preload" href="/45.0e0f5b82.js" as="script">
<link rel="preload" href="/20ac7829.07547941.js" as="script">
<link rel="preload" href="/17896441.836a2f96.js" as="script">
<link rel="preload" href="/008aa837.6b18c8c4.js" as="script">
</head>
<body>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.png" alt="Stratos"><strong class="navbar__title">STRATOS</strong></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a href="https://github.com/cloudfoundry/stratos" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.png" alt="Stratos"><strong class="navbar__title">STRATOS</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a href="https://github.com/cloudfoundry/stratos" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">services</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="services"></a>Services<a aria-hidden="true" tabindex="-1" class="hash-link" href="#services" title="Direct link to heading">#</a></h1><p>GitHub issue: <a href="https://github.com/cloudfoundry/stratos/issues/1391" target="_blank" rel="noopener noreferrer">#1391</a></p><p>The goal with this feature is to provide first-class Services support in Stratos. Up until now, Services support was limited to:</p><ul><li>Viewing the service instances in a space and being able to delete these</li><li>Creating a service instance an bind it to an application</li></ul><p>Going forward, we want to be able to expose all fo the concepts around Services that are exposed via the API, namely:</p><ul><li>Services</li><li>Service Instances</li><li>Service Keys</li><li>Service Plans (and plan visibility)</li><li>User-provided Service Instances</li><li>Service brokers</li></ul><p>We also want to track the Open Service Request Broker work and ensure that thi sis reflected in Stratos.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="first-class-support"></a>First Class Support<a aria-hidden="true" tabindex="-1" class="hash-link" href="#first-class-support" title="Direct link to heading">#</a></h2><p>By &quot;First class Support&quot; we mean that Services will become a top-level item in the side-navigation menu, much like Applications is today.</p><p>Since Stratos allows multiple Cloud Foundry deployments to be manged, this means that the Services views we add will need to aggregate service information in the same was that the Applications view does, including being able ot filter by a specific Cloud Foundry deployment, org and space.</p><p>Unlike the Application view, where we only have one entity to display (i.e. Applications), for Services, there are a number of entities that we may wish to choose from:</p><ul><li>Services (i.e. the marketplace or catalog)</li><li>Service Instances (the actual instances that have been created from the catalog)</li><li>Service Plans</li><li>Service Keys</li><li>Service Plan Visibilities</li><li>User-provided Service Instances</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="ux"></a>UX<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ux" title="Direct link to heading">#</a></h2><p>(Thanks to Guillaume Berche and team for their input)</p><p>To distinguish between the Service Catalog (Marketplace) and Service Instances, we will break-out two top-level navigation items that will appear in the left-hand nav bar:</p><ol><li><p>Marketplace - showing the Service Catalog</p></li><li><p>Services - showing Service Instances</p></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="marketplace"></a>Marketplace<a aria-hidden="true" tabindex="-1" class="hash-link" href="#marketplace" title="Direct link to heading">#</a></h3><p>This will show the Service Catalog. When multiple Cloud Foundry deployments are connected, we will show a filter control to filter the view by CF/Org/Space as we do with applications.</p><p>Provides both a card and list view.</p><p>Clicking on a card or name in the list will take the user to a more detailed Service Definition View.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="service-definition-view"></a>Service Definition View<a aria-hidden="true" tabindex="-1" class="hash-link" href="#service-definition-view" title="Direct link to heading">#</a></h4><p>This shows:</p><ul><li>Metadata as per the card/list</li><li>Service long description (although)</li><li>Service plans (and not the aggregated number of service plans) as depending on the current logged in user, the visible service plans differ) along with their description and meta-data (including price)</li><li>Button to enable a service instance to be created for this service</li></ul><p>(ref: <a href="https://apidocs.cloudfoundry.org/1.27.0/services/retrieve_a_particular_service.html">https://apidocs.cloudfoundry.org/1.27.0/services/retrieve_a_particular_service.html</a>)</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="services-1"></a>Services<a aria-hidden="true" tabindex="-1" class="hash-link" href="#services-1" title="Direct link to heading">#</a></h3><p>This will show Service Instances. When multiple Cloud Foundry deployments are connected, we will show a filter control to filter the view by CF/Org/Space as we do with applications.</p><p>Provides both a card and list view.</p><p>This shows:</p><ul><li>General metadata</li><li>Which space the service belongs to</li><li>Which spaces the service has been shared with</li></ul><p>Clicking of a Service Instance will drill down into a Service Instance Detail view.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="service-instance-detail-view"></a>Service Instance Detail View<a aria-hidden="true" tabindex="-1" class="hash-link" href="#service-instance-detail-view" title="Direct link to heading">#</a></h4><p>Shows:</p><ul><li>General Metadata</li><li>Service plan</li><li>Service parameters (in the future thanks to OSB GET endpoints see <a href="https://github.com/openservicebrokerapi/servicebroker/issues/159" target="_blank" rel="noopener noreferrer">servicebroker/issues/159</a></li><li>Service keys for this instance</li></ul><p>Enable updates:</p><ul><li>in service plans</li><li>in parameters</li></ul><p>Enable delete</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="service-instance-creation"></a>Service Instance Creation<a aria-hidden="true" tabindex="-1" class="hash-link" href="#service-instance-creation" title="Direct link to heading">#</a></h3><p>Stratos will support the following two flows for creating service instances:</p><ol><li>Service Plan driven Flow: In this flow the user starts off by selecting the service plan for the instance they want to create.</li><li>Org/Space driven Flow: In this flow, the user starts off by selecting the organisation and space in which they desire to create an instance.</li></ol><p>The following outlines these two flows in more detail.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="service-plan-driven-flow"></a>Service Plan driven Flow<a aria-hidden="true" tabindex="-1" class="hash-link" href="#service-plan-driven-flow" title="Direct link to heading">#</a></h4><p>From the Marketplace, the user should be able to select a service plan and provision a service instance using that plan.</p><p>When a specific service plan is selected, the following considerations need to be made:</p><ol><li>If a service plan is <code>public</code>, it is available to all organisations and spaces. Therefore, the user should be able to select any organisation or space.</li><li>If a service plan is not <code>public</code>, then service visibilities should be checked and the user should only be allowed to selected the organisation for which a service visibility has been defined by the admin.</li><li>If a service plan is not <code>public</code> and no service visibility exists for it, the user should not be able to select the plan.</li><li>If the service plan is provided by a service broker that is space-scoped, then the values for the organisation and space should be pre-populated and locked.</li></ol><p>The wizard should support parameters with generated form created from JSON schema, see <a href="https://github.com/cloudfoundry/stratos/issues/1434" target="_blank" rel="noopener noreferrer">stratos/issues/1434</a> </p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="orgspace-driven-flow"></a>Org/Space driven Flow<a aria-hidden="true" tabindex="-1" class="hash-link" href="#orgspace-driven-flow" title="Direct link to heading">#</a></h4><p>From the top level Services view, the user should be able to create a new instance. In this flow however, the user starts with selecting the organisation and space they want to create the service instance in.
Based on that selection, the appropriate service definitions and service plans should be displayed, following the same considerations as specified for the previous flow.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="services-binding-detail-view"></a>Services Binding Detail view<a aria-hidden="true" tabindex="-1" class="hash-link" href="#services-binding-detail-view" title="Direct link to heading">#</a></h3><p>This will show a Service Binding.</p><p>Shows:</p><ul><li>Service Instance </li><li>Bound Application (optional)</li><li>Service binding parameters (in the future thanks to OSB GET endpoints see <a href="https://github.com/openservicebrokerapi/servicebroker/issues/159" target="_blank" rel="noopener noreferrer">servicebroker/issues/159</a></li><li>Credentials (using JSON or in the future generated form thanks to binding credentials output JSON schemas <a href="https://github.com/openservicebrokerapi/servicebroker/issues/116" target="_blank" rel="noopener noreferrer">servicebroker/issues/116</a></li></ul><p>Enables updates:</p><ul><li>in parameters (in future OSB spec version)</li></ul><p>Enables delete (i.e. unbind service from app)</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/cloudfoundry/stratos/edit/master/website/docs/planning/services.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#first-class-support" class="table-of-contents__link">First Class Support</a></li><li><a href="#ux" class="table-of-contents__link">UX</a><ul><li><a href="#marketplace" class="table-of-contents__link">Marketplace</a></li><li><a href="#services-1" class="table-of-contents__link">Services</a></li><li><a href="#service-instance-creation" class="table-of-contents__link">Service Instance Creation</a></li><li><a href="#services-binding-detail-view" class="table-of-contents__link">Services Binding Detail view</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/doc2/">Deploying Stratos</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://cloudfoundry.slack.com/?redir=%2Fmessages%2Fstratos" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li><li class="footer__item"><a href="https://github.com/cloudfoundry/stratos" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/talks">Presentations and Talks</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2020 Cloud Foundry Foundation</div></div></div></footer></div>
<script src="/styles.d3be2d04.js"></script>
<script src="/runtime~main.4575875f.js"></script>
<script src="/main.777ea05f.js"></script>
<script src="/1.222372fe.js"></script>
<script src="/2.34eb096d.js"></script>
<script src="/44.c6ce18b1.js"></script>
<script src="/45.0e0f5b82.js"></script>
<script src="/20ac7829.07547941.js"></script>
<script src="/17896441.836a2f96.js"></script>
<script src="/008aa837.6b18c8c4.js"></script>
</body>
</html>